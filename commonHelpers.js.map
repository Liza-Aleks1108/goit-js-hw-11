{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//! У файлі pixabay-api.js зберігаються функції для HTTP-запитів.\n\nimport { searchInput } from '../main';\n\n// const для pixabay\nconst API_KEY = '43217823-e472439c26018cf28ab0cff6b';\nexport default function fetchData() {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchInput.value.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`).then(response => {\n    if (!response.ok) {\n      throw Error(response.status);\n    }\n    return response.json();\n  });\n}\n","//! У файлі render-functions.js - функції для відображення елементів інтерфейсу.\n\nexport default function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li>\n    <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"155\"/>\n    </a>\n        <ul class=\"characteristics\">\n            <li>Likes<br> <span class=\"span\">${likes}</span></li>\n            <li>Views<br> <span class=\"span\">${views}</span></li>\n            <li>Comments<br> <span class=\"span\">${comments}</span></li>\n            <li>Downloads<br> <span class=\"span\">${downloads}</span></li>\n        </ul>\n    </li>`;\n      }\n    )\n    .join('');\n}\n","//! У файлі main.js знаходиться вся логіка роботи додатка.\n\n// import з pixabay-api\nimport fetchData from '../src/js/pixabay-api';\n\n// import з render-functions\nimport createMarkup from '../src/js/render-functions';\n\n// SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst lightbox = new SimpleLightbox('.list a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\n// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Пошук елементів форми та список\nconst searchForm = document.querySelector('.search-form');\nconst searchLoading = document.querySelector('.loader');\nexport const searchInput = document.querySelector('.search-input');\nconst list = document.querySelector('ul');\n\n// handleSubmit\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  if (searchInput.value.trim() === '') {\n    return;\n  }\n\n  createLoader();\n\n  fetchData()\n    .then(data => {\n      // console.log('data', data);\n      list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n      lightbox.refresh();\n\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => alert(error))\n    .finally(() => {\n      removeLoader();\n    });\n}\n\n// Додаємо слухача події на форму\nsearchForm.addEventListener('submit', handleSubmit);\n\n// Функція для створення елемента loader\nexport function createLoader() {\n  searchLoading.classList.remove('none');\n}\n\n// Функція для видалення елемента loader\nexport function removeLoader() {\n  searchLoading.classList.add('none');\n}\n"],"names":["API_KEY","fetchData","params","searchInput","response","createMarkup","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","searchForm","searchLoading","list","handleSubmit","event","createLoader","data","iziToast","error","removeLoader"],"mappings":"6vBAAA;AAKA,MAAMA,EAAU,qCACD,SAASC,GAAY,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAGG,EAAY,MAAM,KAAM,EAC3B,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BD,CAAM,EAAE,EAAE,KAAKE,GAAY,CAClE,GAAI,CAACA,EAAS,GACZ,MAAM,MAAMA,EAAS,MAAM,EAE7B,OAAOA,EAAS,MACpB,CAAG,CACH,CCrBA;AAEe,SAASC,EAAaC,EAAK,CACxC,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,eACAN,CAAa;AAAA,oBACRC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,+CAGCC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA,UAIvD,EACA,KAAK,EAAE,CACZ,CC5BA;AAWA,MAAMC,EAAW,IAAIC,EAAe,UAAW,CAC7C,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAClB,CAAC,EAOKC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAgB,SAAS,cAAc,SAAS,EACzCd,EAAc,SAAS,cAAc,eAAe,EAC3De,EAAO,SAAS,cAAc,IAAI,EAGxC,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEhBjB,EAAY,MAAM,KAAI,IAAO,KAIjCkB,IAEApB,EAAW,EACR,KAAKqB,GAAQ,CAEZJ,EAAK,mBAAmB,YAAab,EAAaiB,EAAK,IAAI,CAAC,EAE5DR,EAAS,QAAO,EAEZQ,EAAK,KAAK,SAAW,GACvBC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,MAAMA,CAAK,CAAC,EAC3B,QAAQ,IAAM,CACbC,GACN,CAAK,EACL,CAGAT,EAAW,iBAAiB,SAAUG,CAAY,EAG3C,SAASE,GAAe,CAC7BJ,EAAc,UAAU,OAAO,MAAM,CACvC,CAGO,SAASQ,GAAe,CAC7BR,EAAc,UAAU,IAAI,MAAM,CACpC"}