{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["//! У файлі render-functions.js - функції для відображення елементів інтерфейсу.\n\nexport default function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li>\n    <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n    </a>\n        <ul>\n            <li>Likes ${likes}</li>\n            <li>Views ${views}</li>\n            <li>Comments ${comments}</li>\n            <li>Downloads ${downloads}</li>\n        </ul>\n    </li>`;\n      }\n    )\n    .join('');\n}\n","//! У файлі pixabay-api.js зберігаються функції для HTTP-запитів.\n// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport createMarkup from './render-functions';\nimport {\n  searchInput,\n  list,\n  lightbox,\n  createLoader,\n  removeLoader,\n} from '../main';\n\n// const для pixabay\nconst API_KEY = '43217823-e472439c26018cf28ab0cff6b';\nexport default function fetchData() {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchInput.value.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // Перед пошуком за новим ключовим словом необхідно повністю очищати вміст галереї, щоб не змішувати результати запитів.\n  list.innerHTML = '';\n\n  fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log('data', data);\n      list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n      lightbox.refresh();\n\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => alert(error))\n    .finally(() => {\n      removeLoader();\n    });\n}\n","//! У файлі main.js знаходиться вся логіка роботи додатка.\n\nimport fetchData from '../src/js/pixabay-api';\n\n// SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Пошук елементів форми та список\nconst searchForm = document.querySelector('.search-form');\nconst searchLoading = document.querySelector('.loader');\nexport const searchInput = document.querySelector('.search-input');\nexport const list = document.querySelector('ul');\n\n// handleSubmit\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  if (searchInput.value.trim() === '') {\n    console.log('Empty string');\n    return;\n  }\n  createLoader();\n  fetchData();\n}\n\nexport const lightbox = new SimpleLightbox('.list a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\n// Додаємо слухача події на форму\nsearchForm.addEventListener('submit', handleSubmit);\n\n// Функція для створення елемента loader\nexport function createLoader() {\n  searchLoading.classList.remove('none');\n}\n\n// Функція для видалення елемента loader\nexport function removeLoader() {\n  searchLoading.classList.add('none');\n}\n"],"names":["createMarkup","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","API_KEY","fetchData","params","searchInput","list","response","data","lightbox","iziToast","error","removeLoader","searchForm","searchLoading","handleSubmit","event","createLoader","SimpleLightbox"],"mappings":"6vBAAA;AAEe,SAASA,EAAaC,EAAK,CACxC,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,eACAN,CAAa;AAAA,oBACRC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,wBAGtBC,CAAK;AAAA,wBACLC,CAAK;AAAA,2BACFC,CAAQ;AAAA,4BACPC,CAAS;AAAA;AAAA,UAIhC,EACA,KAAK,EAAE,CACZ,CC5BA;AAeA,MAAMC,EAAU,qCACD,SAASC,GAAY,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAGG,EAAY,MAAM,KAAM,EAC3B,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGDC,EAAK,UAAY,GAEjB,MAAM,4BAA4BF,CAAM,EAAE,EACvC,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,MAAMA,EAAS,MAAM,EAE7B,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,QAAQ,IAAI,OAAQA,CAAI,EACxBF,EAAK,mBAAmB,YAAab,EAAae,EAAK,IAAI,CAAC,EAE5DC,EAAS,QAAO,EAEZD,EAAK,KAAK,SAAW,GACvBE,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,MAAMA,CAAK,CAAC,EAC3B,QAAQ,IAAM,CACbC,GACN,CAAK,CACL,CCtDA;AASA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAgB,SAAS,cAAc,SAAS,EACzCT,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAO,SAAS,cAAc,IAAI,EAG/C,SAASS,EAAaC,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhBX,EAAY,MAAM,KAAI,IAAO,GAAI,CACnC,QAAQ,IAAI,cAAc,EAC1B,MACD,CACDY,IACAd,GACF,CAEO,MAAMM,EAAW,IAAIS,EAAe,UAAW,CACpD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAClB,CAAC,EAGDL,EAAW,iBAAiB,SAAUE,CAAY,EAG3C,SAASE,GAAe,CAC7BH,EAAc,UAAU,OAAO,MAAM,CACvC,CAGO,SAASF,GAAe,CAC7BE,EAAc,UAAU,IAAI,MAAM,CACpC"}